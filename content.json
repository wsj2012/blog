{"meta":{"title":"June","subtitle":"ç‹xxä¸ªäººåšå®¢","description":"","author":"wsj_2012","url":"https://wsj2012.github.io/blog","root":"/blog/"},"pages":[{"title":"","date":"2019-03-28T05:30:15.034Z","updated":"2019-03-28T02:38:10.158Z","comments":true,"path":"404.html","permalink":"https://wsj2012.github.io/blog/404.html","excerpt":"","text":""},{"title":"å…³äºæˆ‘","date":"2019-03-28T08:26:25.000Z","updated":"2019-04-26T08:03:25.063Z","comments":true,"path":"about/index.html","permalink":"https://wsj2012.github.io/blog/about/index.html","excerpt":"","text":"ä¸€å¥è¯å­¦ä¹ ä¸€ç›´åœ¨è·¯ä¸Šï¼Œç”¨å¿ƒè®°å½•èµ°è¿‡çš„è„šæ­¥ã€‚ã€‚ã€‚ å…³äºæˆ‘ä¸€ä¸ªè«åå…¶å¦™çš„ï¼Œå–œæ¬¢æ•²ä»£ç ï¼Œå–œæ¬¢ç ”ç©¶æŠ€æœ¯çš„ï¼Œè¡¨é¢ä¸Šé«˜å†·ã€ä¸è‹Ÿè¨€ç¬‘çš„ï¼Œ å¶å°”åˆå¬‰çš®ç¬‘è„¸ï¼Œå¶å°”åˆç‰¹ç«‹ç‹¬è¡Œçš„ï¼ŒåŒé‡æ€§æ ¼çš„æŠ€æœ¯çˆ±å¥½è€…ï¼ å…´è¶£æ–¹å‘å¤§å‰ç«¯æŠ€æœ¯ï¼ˆåŒ…æ‹¬iOSã€h5æŠ€æœ¯ï¼‰ï¼Œæ–°æŠ€æœ¯å®ç°ç­‰ã€‚ å‚ä¸ç¤¾åŒºCSDNåšå®¢ï¼šhttps://blog.csdn.net/wlily6 GitHubï¼šhttps://github.com/wsj2012 ç®€ä¹¦ï¼šhttps://www.jianshu.com/u/9be53b53e632 è”ç³»æˆ‘Emailï¼š time_now@yeah.net"},{"title":"Tags","date":"2019-03-28T05:30:14.954Z","updated":"2019-03-28T02:38:10.393Z","comments":true,"path":"tags/index.html","permalink":"https://wsj2012.github.io/blog/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"reactç”Ÿå‘½å‘¨æœŸ","slug":"reactç”Ÿå‘½å‘¨æœŸ","date":"2019-04-29T02:39:38.000Z","updated":"2019-04-29T02:53:00.282Z","comments":true,"path":"article/reactç”Ÿå‘½å‘¨æœŸ/","link":"","permalink":"https://wsj2012.github.io/blog/article/reactç”Ÿå‘½å‘¨æœŸ/","excerpt":"","text":"æœ€è¿‘å·¥ä½œä¸­ä½¿ç”¨åˆ°react.jsè¿›è¡Œå‰ç«¯é¡µé¢å¼€å‘ï¼Œæ€»æ˜¯å¿˜è®°reactç”Ÿå‘½å‘¨æœŸå‡½æ•°åœ¨ä»€ä¹ˆæ—¶å€™è°ƒç”¨ï¼Œè°ƒç”¨æ—¶é—´èŠ‚ç‚¹ç­‰é—®é¢˜ã€‚æ•…Markä¸€ä¸‹ï¼Œä»¥ä¾¿åœ¨æœªæ¥codingçš„æ—¶å€™å¿˜è®°äº†èƒ½å›æ¥reviewã€‚å¤šçœ‹å‡ éç›¸ä¿¡å°±ä¸€å®šä¼šè®°ä½ã€‚ğŸ’ª åˆå§‹åŒ–é˜¶æ®µï¼š 1234567891011121314// è·å–å®ä¾‹çš„é»˜è®¤å±æ€§getDefaultProps:// è®¾ç½®å±æ€§çš„ç±»å‹static propTypes // ç»„ä»¶å³å°†é¦–æ¬¡è¢«è£…è½½ã€æ¸²æŸ“åˆ°é¡µé¢ä¸ŠcomponentWillMountï¼š// ç»„ä»¶åœ¨è¿™é‡Œç”Ÿæˆè™šæ‹Ÿçš„ DOM èŠ‚ç‚¹render:// ç»„ä»¶çœŸæ­£åœ¨è¢«é¦–æ¬¡è£…è½½ä¹‹åcomponentDidMount: è¿è¡Œä¸­çŠ¶æ€ï¼š 1234567891011121314// åœ¨æ•°æ®æ›´æ–°é¡µé¢éœ€è¦é‡æ–°æ¸²æŸ“çš„æ—¶å€™ï¼Œç»„ä»¶å°†è¦æ¥æ”¶åˆ°å±æ€§çš„æ—¶å€™è°ƒç”¨ï¼ŒcomponentWillReceiveProps:// ç»„ä»¶æ¥å—åˆ°æ–°å±æ€§æˆ–è€…æ–°çŠ¶æ€çš„æ—¶å€™ï¼ˆå¯ä»¥è¿”å› falseï¼Œæ¥æ”¶æ•°æ®åä¸æ›´æ–°ï¼Œé˜»æ­¢renderè°ƒç”¨ï¼Œåé¢çš„å‡½æ•°ä¸ä¼šè¢«ç»§ç»­æ‰§è¡Œäº†ï¼‰ shouldComponentUpdate:// ç»„ä»¶å³å°†æ›´æ–°ä¸èƒ½ä¿®æ”¹å±æ€§å’ŒçŠ¶æ€componentWillUpdate:// ç»„ä»¶é‡æ–°æç»˜render:// ç»„ä»¶å·²ç»æ›´æ–°componentDidUpdate: é”€æ¯é˜¶æ®µï¼š 12// ç»„ä»¶å³å°†é”€æ¯componentWillUnmount:","categories":[],"tags":[{"name":"react","slug":"react","permalink":"https://wsj2012.github.io/blog/tags/react/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://wsj2012.github.io/blog/tags/å‰ç«¯/"},{"name":"h5","slug":"h5","permalink":"https://wsj2012.github.io/blog/tags/h5/"},{"name":"ç”Ÿå‘½å‘¨æœŸ","slug":"ç”Ÿå‘½å‘¨æœŸ","permalink":"https://wsj2012.github.io/blog/tags/ç”Ÿå‘½å‘¨æœŸ/"}]},{"title":"Appå¯åŠ¨é€Ÿåº¦ç¯‡","slug":"Appå¯åŠ¨é€Ÿåº¦ç¯‡","date":"2019-04-26T09:42:45.000Z","updated":"2019-04-29T02:52:49.827Z","comments":true,"path":"article/Appå¯åŠ¨é€Ÿåº¦ç¯‡/","link":"","permalink":"https://wsj2012.github.io/blog/article/Appå¯åŠ¨é€Ÿåº¦ç¯‡/","excerpt":"","text":"1ã€Appå¯åŠ¨éƒ½åšäº†å“ªäº›äº‹å„¿ï¼Ÿ å†·å¯åŠ¨(å¯åŠ¨å‰Appè¿›ç¨‹ä¸åœ¨ç³»ç»Ÿé‡Œï¼Œéœ€è¦ç³»ç»Ÿæ–°åˆ›å»ºä¸€ä¸ªè¿›ç¨‹åˆ†é…ç»™å®ƒï¼Œè¿™æ˜¯ä¸€ä¸ªå®Œæˆçš„å¯åŠ¨è¿‡ç¨‹) çƒ­å¯åŠ¨(Appè¿›ç¨‹åœ¨ç³»ç»Ÿä¸­ï¼Œç”¨æˆ·é‡æ–°å¯åŠ¨è¿›å…¥Appçš„è¿‡ç¨‹) ç”¨æˆ·æ„ŸçŸ¥åˆ°å¯åŠ¨æ…¢ï¼Œå…¶å®éƒ½å‘ç”Ÿåœ¨ä¸»çº¿ç¨‹ä¸Šï¼Œè€Œä¸»çº¿ç¨‹æ…¢çš„åŸå› å¾ˆå¤šï¼Œå¦‚åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œäº†å¤§æ–‡ä»¶çš„è¯»å†™æ“ä½œã€åœ¨æ¸²æŸ“å‘¨æœŸä¸­æ‰§è¡Œäº†å¤§é‡è®¡ç®—ç­‰ã€‚ã€‚ã€‚ 2ã€å¯åŠ¨é˜¶æ®µ main()å‡½æ•°æ‰§è¡Œå‰ï¼› ä¼˜åŒ–ï¼š 1ï¸âƒ£ã€å‡å°‘åŠ¨æ€åº“åŠ è½½ï¼› 2ï¸âƒ£ã€å‡å°‘åŠ è½½å¯åŠ¨åä¸ä¼šå»ä½¿ç”¨çš„ç±»æˆ–è€…æ–¹æ³•ï¼› 3ï¸âƒ£ã€+loadn()æ–¹æ³•é‡Œçš„å†…å®¹å¯ä»¥æ”¾åˆ°é¦–å±æ¸²æŸ“å®Œæˆåå†æ‰§è¡Œï¼Œæˆ–è€…ä½¿ç”¨+initialize()æ–¹æ³•æ›¿æ¢æ‰ æ³¨ï¼šåœ¨ä¸€ä¸ª+load()æ–¹æ³•é‡Œï¼Œè¿›è¡Œè¿è¡Œæ—¶æ›¿æ¢æ“ä½œå¸¦æ¥4msçš„æ¶ˆè€—ï¼Œæ–‡ä»¶è¶Šå¤šï¼Œå¯¹å¯åŠ¨é€Ÿåº¦çš„å½±å“å°±è¶Šå¤§ã€‚ main()å‡½æ•°æ‰§è¡Œåï¼› é¦–å±æ¸²æŸ“å®Œæˆåã€‚ 3ã€å¯åŠ¨ä¼˜åŒ– åŠŸèƒ½çº§åˆ«çš„å¯åŠ¨ä¼˜åŒ–ï¼ˆmain()å‡½æ•°æ‰§è¡Œåé˜¶æ®µï¼‰ æ€è·¯ï¼šmain()å‡½æ•°æ‰§è¡Œååˆ°é¦–å±æ¸²æŸ“å®Œæˆåªå¤„ç†é¦–å±ç›¸å…³çš„ä¸šåŠ¡ï¼Œå…¶ä»–éé¦–å±ä¸šåŠ¡çš„åˆå§‹åŒ–ã€ç›‘å¬ã€é…ç½®æ–‡ä»¶è¯»å–ç­‰éƒ½æ”¾åˆ°é¦–å±æ¸²æŸ“å®Œæˆåå»åšã€‚ æ–¹æ³•çº§åˆ«çš„å¯åŠ¨ä¼˜åŒ– æ€è·¯ï¼šæ£€æŸ¥é¦–å±æ¸²æŸ“å®Œæˆå‰æœ‰å“ªäº›è€—æ—¶çš„æ–¹æ³•ã€å°†æ²¡å¿…è¦çš„è€—æ—¶æ–¹æ³•æ»åæˆ–å¼‚æ­¥æ‰§è¡Œ(é‡ç‚¹æ£€æŸ¥æ‰§è¡Œå®ç°åŠ è½½ã€ç¼–è¾‘ã€å­˜å‚¨å›¾ç‰‡å’Œæ–‡ä»¶ç­‰èµ„æºçš„æ–¹æ³•) 4ã€ç›‘æ§æ‰‹æ®µ å®šæ—¶æŠ“å–ä¸»çº¿ç¨‹ä¸Šçš„æ–¹æ³•è°ƒç”¨å †æ ˆï¼Œè®¡ç®—ä¸€æ®µæ—¶é—´é‡Œå„ä¸ªæ–¹æ³•çš„è€—æ—¶(Time Profiler) å¯¹obj_msgSendæ–¹æ³•è¿›è¡Œhookæ¥æŒæ¡æ‰€æœ‰æ–¹æ³•çš„è€—æ—¶ã€‚(fishhook) æ³¨ï¼šFaceBookå¼€æºåº“fishhookï¼Œå¯åœ¨iOSä¸Šè¿è¡Œçš„Mach-OäºŒè¿›åˆ¶æ–‡ä»¶ä¸­åŠ¨æ€åœ°é‡æ–°ç»‘å®šç¬¦å·ã€‚","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"https://wsj2012.github.io/blog/tags/iOS/"},{"name":"App","slug":"App","permalink":"https://wsj2012.github.io/blog/tags/App/"},{"name":"å¯åŠ¨","slug":"å¯åŠ¨","permalink":"https://wsj2012.github.io/blog/tags/å¯åŠ¨/"},{"name":"é€Ÿåº¦","slug":"é€Ÿåº¦","permalink":"https://wsj2012.github.io/blog/tags/é€Ÿåº¦/"}]},{"title":"Flutter çº¯iOSé£æ ¼UIæ¡†æ¶æ­å»º","slug":"Flutter iOSé£æ ¼UIæ¡†æ¶æ­å»º","date":"2019-03-28T05:49:30.000Z","updated":"2019-04-29T02:52:54.456Z","comments":true,"path":"article/Flutter iOSé£æ ¼UIæ¡†æ¶æ­å»º/","link":"","permalink":"https://wsj2012.github.io/blog/article/Flutter iOSé£æ ¼UIæ¡†æ¶æ­å»º/","excerpt":"","text":"æ–°å…¥é—¨FlutteræŠ€æœ¯æ ˆï¼Œä»iOSè½¬å…¥ï¼Œæ•…å®ç°ä¸€å¥—å…¨iOSé£æ ¼çš„Flutteré¡µé¢æ­å»ºã€‚å…¶ä¸­é€šè¿‡æŸ¥è¯¢å®˜æ–¹èµ„æ–™(ç°åœ¨ç”Ÿæ€ä¸å¤Ÿå¥å…¨ï¼Œèµ„æ–™å¾ˆéš¾å¯»æ‰¾)ï¼ŒèŠ±äº†ç‚¹åŠŸå¤«æœ€ç»ˆå¾—ä»¥å®ç°ã€‚æœ‰å®ç°æ›´å¥½çš„æ–¹å¼è¿˜æœ›ä¸åèµæ•™ï¼Œæœ‰ä½¿ç”¨ä¸å¯¹çš„åœ°æ–¹è¿˜è¯·æŒ‡æ­£ã€‚ Fetures: å…¨ä½¿ç”¨iOSé£æ ¼widgetï¼ˆCupertinoTabBaræ­é…CupertinoTabScaffoldï¼‰ tabBarä¸Šèœå•å¯è‡ªç”±è®¾ç½®æ˜¾ç¤ºé£æ ¼ï¼ˆåŒ…æ‹¬å›¾æ ‡ã€å­—ä½“å¤§å°é¢œè‰²ï¼‰ Attention: æ­¤å…¥å£ç±»CupertinoTabScaffoldå†…æœªè®¾ç½®navigationBarï¼Œ navigationBaræœ€å¥½éƒ½åœ¨å„è‡ªpageé¡µå†…è®¾ç½®ï¼Œè¿™æ ·å¯è‡ªå®šåˆ¶navigationBarä¸Šæ˜¾ç¤ºçš„ä¸åŒå…ƒç´ ã€‚ï¼ˆå¦‚æœåœ¨æ­¤å…¥å£ç±»è®¾ç½®äº†navigationBarï¼Œå„tabé¦–é¡µpageçš„navigationBarä¸Šæ˜¾ç¤ºå…ƒç´ å°±ä¼šä¸€è‡´ï¼Œä¸ªæ€§åŒ–å®šåˆ¶å„pageçš„navigationBarå°±éœ€è¦åŠ å…¥æ›´å¤šçš„é€»è¾‘ï¼Œå»ºè®®navigationBaråˆ†æ•£åˆ°å„è‡ªçš„pageé¡µå»å®ç°ï¼‰ main.dart123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140import &apos;package:flutter/cupertino.dart&apos;;import &apos;package:myapp/src/EngwordsPage.dart&apos;;import &apos;package:myapp/src/SamplePage.dart&apos;;import &apos;package:myapp/src/FirstPage.dart&apos;;import &apos;package:myapp/src/ListPage.dart&apos;;void main() =&gt; runApp(new MyApp());class MyApp extends StatefulWidget &#123; @override _MyMainState createState() =&gt; new _MyMainState();&#125;class _MyMainState extends State&lt;MyApp&gt; &#123; // é»˜è®¤ç´¢å¼•ç¬¬ä¸€ä¸ªtab int _tabIndex = 0; // æ­£å¸¸æƒ…å†µçš„å­—ä½“æ ·å¼ final tabTextStyleNormal = new TextStyle(color: const Color(0xff969696)); // é€‰ä¸­æƒ…å†µçš„å­—ä½“æ ·å¼ final tabTextStyleSelect = new TextStyle(color: const Color(0xff63ca6c)); // åº•éƒ¨èœå•æ å›¾æ ‡æ•°ç»„ var tabImages; // é¡µé¢å†…å®¹ var _pages; // èœå•æ–‡æ¡ˆ var tabTitles = [&apos;æ¨è&apos;, &apos;èµ„è®¯&apos;, &apos;å‘ç°&apos;, &apos;æˆ‘çš„&apos;]; // è·¯ç”±map Map&lt;String, WidgetBuilder&gt; _routes = new Map(); // ç”Ÿæˆimageç»„ä»¶ Image getTabImage(path) &#123; return new Image.asset(path, width: 20.0, height: 20.0); &#125; void initData() &#123; if (tabImages == null) &#123; tabImages = [ [ getTabImage(&apos;assets/images/ic_nav_news_normal.png&apos;), getTabImage(&apos;assets/images/ic_nav_news_actived.png&apos;) ], [ getTabImage(&apos;assets/images/ic_nav_tweet_normal.png&apos;), getTabImage(&apos;assets/images/ic_nav_tweet_actived.png&apos;) ], [ getTabImage(&apos;assets/images/ic_nav_discover_normal.png&apos;), getTabImage(&apos;assets/images/ic_nav_discover_actived.png&apos;) ], [ getTabImage(&apos;assets/images/ic_nav_my_normal.png&apos;), getTabImage(&apos;assets/images/ic_nav_my_pressed.png&apos;) ] ]; &#125; _pages = [ new EngwordsPage(), new SamplePage(), new ListWidget(&quot;å‘ç°&quot;), new FirstPage() ]; //è·å–èœå•æ å­—ä½“æ ·å¼ TextStyle getTabTextStyle(int curIndex) &#123; if (curIndex == _tabIndex) &#123; return tabTextStyleSelect; &#125; else &#123; return tabTextStyleNormal; &#125; &#125; // è·å–å›¾æ ‡ Image getTabIcon(int curIndex) &#123; if (curIndex == _tabIndex) &#123; return tabImages[curIndex][1]; &#125; return tabImages[curIndex][0]; &#125; // è·å–æ ‡é¢˜æ–‡æœ¬ Text getTabTitle(int curIndex) &#123; return new Text( tabTitles[curIndex], style: getTabTextStyle(curIndex), ); &#125; // è·å–BottomNavigationBarItem List&lt;BottomNavigationBarItem&gt; getBottomNavigationBarItem() &#123; List&lt;BottomNavigationBarItem&gt; list = new List(); for (int i = 0; i &lt; 4; i++) &#123; list.add(new BottomNavigationBarItem( icon: getTabIcon(i), title: getTabTitle(i))); &#125; return list; &#125; @override Widget build(BuildContext context) &#123; initData(); return new CupertinoApp( title: &quot;Demo&quot;, theme: new CupertinoThemeData( primaryColor: CupertinoColors.darkBackgroundGray, ), routes: _routes, home: new CupertinoTabScaffold( tabBar: CupertinoTabBar( items: getBottomNavigationBarItem(), currentIndex: _tabIndex, onTap: (index) &#123; setState(() &#123; _tabIndex = index; &#125;); &#125;, ), tabBuilder: (BuildContext context, int index) &#123; return CupertinoTabView( builder: (BuildContext context) &#123; return CupertinoPageScaffold( child: _pages[index], // navigationBar: CupertinoNavigationBar( // middle: Text(tabTitles[index]), // trailing: _trailingButtons[index], // ), ); &#125;, ); &#125;, ), ); &#125;&#125; FirstPage.dart12345678910111213141516171819202122232425262728293031323334353637import &apos;package:flutter/cupertino.dart&apos;;class FirstPage extends StatefulWidget &#123; @override FirstPageState createState() =&gt; new FirstPageState();&#125;class FirstPageState extends State&lt;FirstPage&gt; &#123; final rt = new CupertinoButton( child: new Image.asset(&quot;assets/images/nav_close.png&quot;), onPressed: () &#123; print(&quot;right clicked&quot;); &#125;, ); @override Widget build(BuildContext context) &#123; return new CupertinoPageScaffold( navigationBar: CupertinoNavigationBar( middle: Text(&quot;First&quot;), trailing: rt, border: Border.all(width: 0, color: CupertinoColors.darkBackgroundGray), ), child: new Container( child: new Center( child: new Text( &quot;è¿™æ˜¯ç¬¬ä¸€ä¸ªç•Œé¢&quot;, style: new TextStyle( color: CupertinoColors.darkBackgroundGray, fontSize: 18, ), ), ), ), ); &#125;&#125; å…¶ä»–ç±»ï¼ˆEngwordsPage.dartã€SamplePage.dartï¼‰éƒ½æ˜¯å¦‚æ­¤çš„UIç»“æ„ã€‚ Effectsï¼š","categories":[],"tags":[{"name":"UI","slug":"UI","permalink":"https://wsj2012.github.io/blog/tags/UI/"},{"name":"iOS","slug":"iOS","permalink":"https://wsj2012.github.io/blog/tags/iOS/"},{"name":"App","slug":"App","permalink":"https://wsj2012.github.io/blog/tags/App/"},{"name":"Flutter","slug":"Flutter","permalink":"https://wsj2012.github.io/blog/tags/Flutter/"}]},{"title":"gitå¸¸ç”¨å‘½ä»¤","slug":"gitå¸¸ç”¨å‘½ä»¤","date":"2018-03-28T09:59:02.000Z","updated":"2019-04-29T02:52:56.377Z","comments":true,"path":"article/gitå¸¸ç”¨å‘½ä»¤/","link":"","permalink":"https://wsj2012.github.io/blog/article/gitå¸¸ç”¨å‘½ä»¤/","excerpt":"","text":"Markä¸€ä¸‹æ—¥å¸¸å·¥ä½œå½“ä¸­å¸¸ç”¨åˆ°çš„gitå‘½ä»¤ï¼š 1234567891011121314151617181920212223242526272829303132333435363738git stash æš‚å­˜æ–‡ä»¶git pull æ‹‰å–ä»£ç  git stash pop ä»æš‚å­˜åŒºæ‹‰å–ä»£ç git add *.m git commit -m â€œmessagesâ€ æäº¤ä»£ç git pull â€”rebasegit push æ¨é€ä»£ç åˆ°ä»“åº“git diff xxx.m æ¯”è¾ƒä¿®æ”¹å‰ågit branch æŸ¥çœ‹æœåŠ¡å™¨åˆ†æ”¯åç§°git checkout branchname åˆ‡æ¢åˆ†æ”¯git checkout xxx.må›æ»šä¸€ä¸ªæ–‡ä»¶git checkout .å›æ»šå…¨éƒ¨git reset â€”hard é‡ç½®git clean -rf./fmanager pull -vgit branch -a æŸ¥çœ‹è¿œç¨‹æ‰€æœ‰åˆ†æ”¯git branch æŸ¥çœ‹å½“å‰åˆ†æ”¯git branch masterï¼ˆæœ¬åœ°åˆ†æ”¯åï¼‰ origin/masterï¼ˆè¿œç¨‹åˆ†æ”¯ï¼‰----åˆ‡æ¢åˆ†æ”¯//å›é€€å…¨éƒ¨ä»£ç git reset HEADgit clean -f// ç›´æ¥å…‹éš†åˆ†æ”¯ä»“åº“åˆ°æœ¬åœ°git clone -b yzt_live_20180921 http://git-ma.paic.com.cn/Toa/Fusion.gitpod lib lint --sources='https://git.oschina.net/ch_team/Specs.git,https://github.com/CocoaPods/Specs.git' --verboseUnable to find a pod with name, author, summary, or description matchingrm ~/Library/Caches/CocoaPods/search_index.jsonpod spec lint XSSchoolCommon.podspec --sources='https://git.oschina.net/ch_team/Specs.git,https://github.com/CocoaPods/Specs.git' --allow-warningspod setuppod lib lint --sources='http://git-ma.paic.com.cn/ToaApp/YZT-iOS-Pod-Spec.git,http://git-ma.paic.com.cn/ToaApp/YZT-iOS-Pod-Master.git' --allow-warnings --verbose","categories":[],"tags":[{"name":"git","slug":"git","permalink":"https://wsj2012.github.io/blog/tags/git/"},{"name":"å‘½ä»¤","slug":"å‘½ä»¤","permalink":"https://wsj2012.github.io/blog/tags/å‘½ä»¤/"},{"name":"command","slug":"command","permalink":"https://wsj2012.github.io/blog/tags/command/"}]},{"title":"iOSç»„ä»¶åŒ–å®ç°æ­¥éª¤æ€»ç»“","slug":"iOSç»„ä»¶åŒ–å®ç°æ­¥éª¤æ€»ç»“","date":"2017-03-28T08:26:25.000Z","updated":"2019-04-29T02:52:58.225Z","comments":true,"path":"article/iOSç»„ä»¶åŒ–å®ç°æ­¥éª¤æ€»ç»“/","link":"","permalink":"https://wsj2012.github.io/blog/article/iOSç»„ä»¶åŒ–å®ç°æ­¥éª¤æ€»ç»“/","excerpt":"","text":"éšç€åº”ç”¨ä¸šåŠ¡çš„å¢åŠ ï¼Œé¡¹ç›®é€æ¸å˜å¾—åºå¤§ï¼Œå®æ–½ç»„ä»¶åŒ–æ–¹æ¡ˆå°±ä¼šæ˜¾å¾—å°¤ä¸ºå¿…è¦ã€‚ç½‘ä¸Šçš„èµ„æ–™ç¹æ‚ï¼Œä»‹äºæœ‰çš„è¡¨è¾¾ä¸æ˜¯ç‰¹åˆ«æ¸…æ™°ï¼Œè¿™é‡Œè®°å½•ä¸ªäººå®ç°iOSç»„ä»¶åŒ–çš„æ­¥éª¤ï¼Œå¸Œæœ›èƒ½å¸®åŠ©åˆ°ä½ ï¼Œè§£å†³åœ¨ç»„ä»¶åŒ–è¿‡ç¨‹ä¸­çŒœåˆ°çš„å‘ã€‚ 1ã€åˆ›å»ºç§æœ‰Repoï¼ˆSpecsï¼‰ åœ¨Gitä¸Šåˆ›å»ºä¸€ä¸ªRespositoryï¼Œå¹¶å‘½åä¸ºSpecsï¼› æ·»åŠ Private Podå¹¶éªŒè¯ç»ˆç«¯ä¾æ¬¡æ‰§è¡Œï¼š 1234// æ·»åŠ ç§æœ‰Repopod repo add ch_team https://git.oschina.net/ch_team/Specs.git// éªŒè¯æ˜¯å¦æˆåŠŸpod repo lint . 2ã€åˆ›å»ºä¸»å·¥ç¨‹ åœ¨Gitä¸Šåˆ›å»ºä¸€ä¸ªRespositoryï¼Œå¹¶å‘½åä¸ºPAToapAPPï¼› å°†Respositoryæ‹‰å–ä¸‹æ¥å¹¶ä¸”é€šè¿‡XCodecåˆ›å»ºå·¥ç¨‹ï¼Œç»ˆç«¯æ‰§è¡Œï¼š 1git clone https://git.oschina.net/ch_team/PAToapAPP.git ç»ˆç«¯åˆ‡åˆ°PAToapAPPå·¥ç¨‹æ ¹ç›®å½•ä¸‹ï¼Œåˆå§‹åŒ–ä½ çš„Podfileï¼Œæ­¤æ—¶ä¸éœ€è¦åœ¨Podfileæ·»åŠ ä»»ä½•ä¾èµ–ç»ˆç«¯æ‰§è¡Œï¼š 12pod initpod install ç°åœ¨ä¸»å·¥ç¨‹å·²åˆ›å»ºå®Œæ¯•ã€‚ 3ã€åˆ›å»ºç»„ä»¶Podï¼ˆåˆ›å»ºå¤šä¸ªPodï¼Œåˆ›å»ºæ–¹å¼ç›¸åŒï¼‰ åœ¨Gitä¸Šåˆ›å»ºRepositoryï¼Œå¹¶æ‹‰å–åˆ°æœ¬åœ° 1git clone https://git.oschina.net/ch_team/PAToapAPP-User.git åœ¨PAToapAPP-Userå·¥ç¨‹ç›®å½•ä¸‹ï¼Œåˆ›å»ºExampleå·¥ç¨‹ åˆ›å»º.podspecï¼Œå¹¶ä¸”åˆ›å»ºPod/Classesç›®å½•ï¼Œ å°†Exampleçš„Viewã€ViewModelã€Modelæ‹·è´è‡³Classesç›®å½•1pod spec create PAToapAPP-User æ–‡ä»¶ç›®å½•å˜ä¸ºï¼šExample(ğŸ“‚)LICENSEPod(ğŸ“ƒ)â€¦â€¦Classes(ğŸ“‚)â€¦â€¦â€¦â€¦Model(ğŸ“‚)â€¦â€¦â€¦â€¦View(ğŸ“‚)â€¦â€¦â€¦â€¦ViewModel(ğŸ“‚)README.mdPAToapAPP-User.podspec ä¿®æ”¹.podspecæ–‡ä»¶ 123s.homepage = \"http://git.oschina.net/ch_team/PAToapAPP-User\"s.license = &#123; :type =&gt; \"MIT\", :file =&gt; \"LICENSE\" &#125;s.source_files = \"Pod/Classes\", \"Pod/Classes/**/*.&#123;h,m&#125;\" æœ¬åœ°éªŒè¯.podspecæ˜¯å¦æ­£ç¡® 1$ pod lib lint æäº¤åˆ°Githubï¼Œå¹¶è¿œç¨‹éªŒè¯ï¼ŒæŒ‰ç…§ä¸‹åˆ—æ­¥éª¤éœ€è¦é¦–å…ˆæäº¤Gitï¼Œç„¶åæ·»åŠ Tag 1234567891011$ git add .$ git commit -m \"æ·»åŠ Pod\"$ git push#æ·»åŠ Tag$ git tag 0.0.1 #è¿™é‡Œéœ€è¦ä¸ä½ çš„.podspecä¸­s.versionå€¼ç›¸åŒ$ git push --tags#éªŒè¯$ pod spec lint-&gt; PAToapAPP-User(0.0.1)Analyzed 1 podspecPAToapAPP-User.podspec passed validation. æ·»åŠ Podåˆ°ä½ çš„ç§æœ‰çš„Repoä¸­ 12345678$ pod repo push ch_team PAToapAPP-User.podspecValidatiing spec-&gt;PAToapAPP-User(0.0.1)Updating the `ch_team` repoAlready up-to-date.Adding the spec to the `ch_team` repo-[No change] PAToapAPP-User(0.0.1)Pushing the `ch_team` repo è¯•è¯•æœç´¢ä½ çš„Pod 1234$ pod search PAToapAPP-User-&gt;PAToapAPP-User(0.0.1)ä¸šåŠ¡ç»„ä»¶Apod 'PAToapAPP-User', '~&gt; 0.0.1' ç°åœ¨ä½ å¯ä»¥ä½¿ç”¨äº†ï¼Œè¯·è®°ä½åœ¨ä½ çš„Podfileä¸­æ·»åŠ ä½ Private Pod æº 123456source 'https://github.com/CocoaPods/Specs' source 'https://github.com/ch_team/Specs.git' platform :ios, \"9.0\" target \"XXX\" do pod 'PAToapAPP-User', '~&gt;0.0.1' end å½“ç»„ä»¶åŒ–é¡¹ç›®å®Œæˆä»¥åï¼Œåç»­å¼€å‘ä¸­ä¸»è¦çš„æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š å·¥ç¨‹ä»£ç å˜æ›´ï¼Œè¿›å…¥podspecæ–‡ä»¶ä¿®æ”¹versionç‰ˆæœ¬å· git commit -am â€œä¿®æ”¹è¯´æ˜â€æäº¤å·¥ç¨‹æ‰€æœ‰ä¿®æ”¹ pod repo push xxx xxx.podspecæäº¤éªŒè¯specæ–‡ä»¶ åœ¨æ ¹ç›®å½•çš„.cocoapodsç›®å½•ä¸‹å»æŸ¥çœ‹å·¥ç¨‹æ˜¯å¦æœ‰å¯¹åº”ç‰ˆæœ¬ä¿¡æ¯","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"https://wsj2012.github.io/blog/tags/iOS/"},{"name":"App","slug":"App","permalink":"https://wsj2012.github.io/blog/tags/App/"},{"name":"å·¥ç¨‹","slug":"å·¥ç¨‹","permalink":"https://wsj2012.github.io/blog/tags/å·¥ç¨‹/"},{"name":"ç»„ä»¶åŒ–","slug":"ç»„ä»¶åŒ–","permalink":"https://wsj2012.github.io/blog/tags/ç»„ä»¶åŒ–/"}]},{"title":"EasySegmentedControlå®šæ—¶æ˜¾ç¤ºæ ·å¼ä½¿ç”¨è¯´æ˜","slug":"EasySegmentedControlå®šåˆ¶æ˜¾ç¤ºæ ·å¼ä½¿ç”¨","date":"2016-03-28T06:16:16.000Z","updated":"2019-04-29T02:52:52.026Z","comments":true,"path":"article/EasySegmentedControlå®šåˆ¶æ˜¾ç¤ºæ ·å¼ä½¿ç”¨/","link":"","permalink":"https://wsj2012.github.io/blog/article/EasySegmentedControlå®šåˆ¶æ˜¾ç¤ºæ ·å¼ä½¿ç”¨/","excerpt":"","text":"EasySegmentedControlæ˜¯HMSegmentedControlçš„swiftç‰ˆæœ¬ï¼Œä¸¤ä¸ªåº“çš„å®ç°ç»†èŠ‚åŠå®ç°æ–¹å¼æ˜¯ä¸€è‡´çš„ï¼Œé‰´äºé‡Œé¢æœ‰å¾ˆå¤šå±æ€§å‚æ•°çš„è®¾ç½®ï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨æ­¤åº“çš„äººå¯¹æœ‰çš„å‚æ•°ä½¿ç”¨ä¸æ˜¯å¾ˆæ˜ç™½ï¼Œå„å‚æ•°ä½¿ç”¨å¯¹å®šåˆ¶æ ·å¼å®é™…ä½œç”¨ä¸ä¼šå¾ˆç†Ÿæ‚‰ï¼Œæ•…å†™æ­¤æ–‡ï¼Œå¯ä»¥æ›´å¥½çš„å¸®åŠ©ä½ ä½¿ç”¨æ­¤ç¬¬ä¸‰æ–¹åº“ï¼Œçµæ´»åœ°å®šåˆ¶å‡ºè‡ªå·±æƒ³è¦çš„æ ·å¼ã€‚æ­¤æ–‡æä¾›äº”ç§æ ·å¼Demoï¼Œå¯åœ¨æ­¤äº”ç§æ ·å¼ä¸Šçµæ´»è°ƒæ•´å‚æ•°ï¼Œä»¥å®šåˆ¶å‡ºä¸åŒæ ·å¼çš„åˆ†æ®µæ§åˆ¶å™¨ã€‚ æ¥å…¥æ–¹å¼å¯é€‰æ‹©å¦‚ä¸‹æ–¹å¼ä¸­çš„ä¸€ç§ï¼š pod â€˜EasySegmentedControlâ€™ å°†EasySegmentedControl.swiftæ–‡ä»¶å¯¼å…¥è‡ªå·±çš„å·¥ç¨‹ Demoâ‘ Style1ï¼š æ•ˆæœå›¾ 1234567let viewWidth = view.frame.size.width let sc = EasySegmentedControl.init(with: [\"Trending\", \"News\", \"Library\"]) sc.frame = CGRect(x: 0, y: 88, width: viewWidth, height: 40) sc.autoresizingMask = [.flexibleRightMargin, .flexibleWidth] sc.backgroundsColor = UIColor.clear sc.addTarget(self, action: #selector(segmentedControlChangedValue(segmentedControl:)), for: .valueChanged) view.addSubview(sc) Demoâ‘¡Style2ï¼š Code: 123456789101112131415let sc1 = EasySegmentedControl.init(with: [\"One\", \"Two\", \"Three\", \"Four\", \"Five\", \"Six\", \"Seven\", \"Eight\"]) sc1.autoresizingMask = [.flexibleRightMargin, .flexibleWidth] sc1.frame = CGRect(x: 0, y: 60 + 68, width: viewWidth, height: 40) sc1.segmentEdgeInset = UIEdgeInsets(top: 0, left: 10, bottom: 0, right: 10) sc1.selectionStyle = .FullWidthStripe sc1.selectionIndicatorLocation = .Down sc1.verticalDividerEnabled = true sc1.verticalDividerColor = .black sc1.verticalDividerWidth = 1.0 sc1.titleFormatter = &#123;(seg, title, index, selected) in let attString = NSAttributedString.init(string: title, attributes: [NSAttributedString.Key.foregroundColor : UIColor.blue]) return attString &#125; sc1.addTarget(self, action: #selector(segmentedControlChangedValue(segmentedControl:)), for: .valueChanged) view.addSubview(sc1) Demoâ‘¢Style3ï¼š Code: 1234567891011121314151617sc1.addTarget(self, action: #selector(segmentedControlChangedValue(segmentedControl:)), for: .valueChanged)view.addSubview(sc1)// Segmented control with imageslet images: [UIImage] = [UIImage(named: \"1\")!, UIImage(named: \"2\")!, UIImage(named: \"3\")!, UIImage(named: \"4\")!]let selectedImages: [UIImage] = [UIImage(named: \"1-selected\")!, UIImage(named: \"2-selected\")!, UIImage(named: \"3-selected\")!, UIImage(named: \"4-selected\")!]let titles: [String] = [\"1\", \"2\", \"3\", \"4\"]let sc2 = EasySegmentedControl.init(with: images, sectionSelectedImages: selectedImages, sectiontitles: titles)sc2.imagePosition = .LeftOfTextsc2.frame = CGRect(x: 0, y: 120 + 68, width: viewWidth, height: 50)sc2.selectionIndicatorHeight = 4.0sc2.backgroundsColor = UIColor.clearsc2.selectionIndicatorLocation = .Downsc2.selectionStyle = .TextWidthStripesc2.segmentWidthStyle = .Dynamicsc2.addTarget(self, action: #selector(segmentedControlChangedValue(segmentedControl:)), for: .valueChanged)view.addSubview(sc2) Demoâ‘£Style4ï¼š Code: 1234567891011121314151617let sc3 = EasySegmentedControl.init(with: [\"one\", \"Two\", \"Three\", \"4\", \"Five\"]) sc3.frame = CGRect(x: 0, y: 180 + 68, width: viewWidth, height: 50) sc3.indexChangeBlock = &#123; index in print(\"Selected index \\(index) (via block)\") &#125; sc3.selectionIndicatorHeight = 4.0 sc3.backgroundsColor = UIColor(red: 0.1, green: 0.4, blue: 0.8, alpha: 1) sc3.titleTextAttributes = [NSAttributedString.Key.foregroundColor: UIColor.white] sc3.selectionIndicatorColor = UIColor(red: 0.5, green: 0.8, blue: 1, alpha: 1) sc3.selectionIndicatorBoxColor = UIColor.black sc3.selectionIndicatorBoxOpacity = 1.0 sc3.selectionStyle = .Box sc3.selectedSegmentIndex = NoSegment sc3.selectionIndicatorLocation = .Down sc3.shouldAnimateUserSelection = false sc3.tag = 2 view.addSubview(sc3) Demoâ‘¤Style5ï¼š Code: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253lazy var scrollView: UIScrollView = &#123; let s = UIScrollView.init(frame: CGRect(x: 0, y: 310 + 68, width: view.frame.size.width, height: 210)) s.backgroundColor = UIColor(red: 0.7, green: 0.7, blue: 0.7, alpha: 1) s.isPagingEnabled = true s.showsHorizontalScrollIndicator = false s.contentSize = CGSize(width: view.frame.size.width * 3, height: 200) s.delegate = self s.scrollRectToVisible(CGRect(x: view.frame.size.width, y: 0, width: view.frame.size.width, height: 200), animated: false) return s&#125;()override func viewDidLoad() &#123; super.viewDidLoad() let sc4 = EasySegmentedControl.init(frame: CGRect(x: 0, y: 260 + 68, width: view.frame.size.width, height: 50)) sc4.sectionTitles = [\"Worldwide\", \"Local\", \"Headlines\"] sc4.selectedSegmentIndex = 1 sc4.backgroundColor = UIColor(red: 0.7, green: 0.7, blue: 0.7, alpha: 1) sc4.titleTextAttributes = [NSAttributedString.Key.foregroundColor: UIColor.white] sc4.selectedTitleTextAttributes = [NSAttributedString.Key.foregroundColor: UIColor(red: 0.1, green: 0.1, blue: 0.1, alpha: 1)] sc4.selectionIndicatorColor = UIColor(red: 0.3, green: 0.3, blue: 0.3, alpha: 1) sc4.selectionStyle = .Box; sc4.selectionIndicatorLocation = .Up; sc4.tag = 3; sc4.indexChangeBlock = &#123;[weak self] index in if let strongSelf = self &#123; strongSelf.scrollView.scrollRectToVisible(CGRect(x: viewWidth * CGFloat(index), y: 0, width: viewWidth, height: 200), animated: true) &#125; &#125; view.addSubview(sc4) let lable1 = UILabel.init(frame: CGRect(x: 0, y: 0, width: viewWidth, height: 210)) setApperanceFor(label: lable1) lable1.text = \"Worldwide\" scrollView.addSubview(lable1) let lable2 = UILabel.init(frame: CGRect(x: viewWidth, y: 0, width: viewWidth, height: 210)) setApperanceFor(label: lable2) lable2.text = \"Local\" scrollView.addSubview(lable2) let lable3 = UILabel.init(frame: CGRect(x: viewWidth * 2, y: 0, width: viewWidth, height: 210)) setApperanceFor(label: lable3) lable3.text = \"Headlines\" scrollView.addSubview(lable3)&#125;func scrollViewDidEndDecelerating(_ scrollView: UIScrollView) &#123; let pageWidth = scrollView.frame.size.width let page = Int(scrollView.contentOffset.x / pageWidth) sc4.setSelectedSegment(index: page, animated: true)&#125; æ‚¨å¯æ ¹æ®è‡ªå·±çš„éœ€è¦ï¼Œè°ƒæ•´å‚æ•°è¾¾åˆ°UIè®¾è®¡çš„æ ·å¼è§„èŒƒã€‚","categories":[],"tags":[{"name":"Swift","slug":"Swift","permalink":"https://wsj2012.github.io/blog/tags/Swift/"},{"name":"UI","slug":"UI","permalink":"https://wsj2012.github.io/blog/tags/UI/"},{"name":"iOS","slug":"iOS","permalink":"https://wsj2012.github.io/blog/tags/iOS/"},{"name":"App","slug":"App","permalink":"https://wsj2012.github.io/blog/tags/App/"}]},{"title":"ä¸‰è§’å‡½æ•°åœ¨ç»˜åˆ¶åœ†ä¸­çš„ä½¿ç”¨","slug":"ä¸‰è§’å‡½æ•°åœ¨ç»˜åˆ¶åœ†ä¸­çš„ä½¿ç”¨","date":"2015-03-29T05:35:24.000Z","updated":"2019-04-29T02:59:11.311Z","comments":true,"path":"article/ä¸‰è§’å‡½æ•°åœ¨ç»˜åˆ¶åœ†ä¸­çš„ä½¿ç”¨/","link":"","permalink":"https://wsj2012.github.io/blog/article/ä¸‰è§’å‡½æ•°åœ¨ç»˜åˆ¶åœ†ä¸­çš„ä½¿ç”¨/","excerpt":"","text":"åœ¨ç»˜åˆ¶é¥¼å›¾ç™¾åˆ†æ¯”å›¾ä¾‹æ ‡è¯†ç±»çš„å›¾å½¢ä¸­ï¼Œæˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°ä¸‰è§’å‡½æ•°ç›¸å…³çš„çŸ¥è¯†ç‚¹æ¥è®¡ç®—å„ä¸ªç‚¹çš„ä½ç½®ï¼Œè¿™é‡Œå®ç°äº†ä¸€ä¸ªç®€å•çš„é¥¼å›¾ç™¾åˆ†æ¯”å›¾ä¾‹æ ‡è¯†çš„exampleï¼Œé€šè¿‡æ­¤ä¾‹å¯ä¸¾ä¸€åä¸‰ç»“åˆå®é™…é¡¹ç›®ä¸­çš„éœ€æ±‚ï¼Œå®ç°å…¶æ‰€éœ€è¦çš„æ•ˆæœã€‚å¸Œæœ›ä½ èƒ½é€šè¿‡æ­¤ä¾‹èƒ½æœ‰æ‰€æ”¶è·ã€‚æ­¤ä¾‹å­ä¸ºObjective-Cç‰ˆæœ¬ã€‚ ç›´æ¥ä¸Šä»£ç ï¼šæ–°å»ºä¸€ä¸ªç»§æ‰¿è‡ªUIViewçš„å¯¹è±¡ï¼š .hæ–‡ä»¶ï¼š 1234567891011121314151617// // PieView.h // BlurDemo // // Created by sj_w on 15/9/11. // Copyright (c) 2015å¹´ sj_w. All rights reserved. // #import &lt;UIKit/UIKit.h&gt; @interface PieView : UIView @property (nonatomic, strong) NSArray *percentArr;//ç™¾åˆ†æ¯”åˆ†æ®µ @property (nonatomic, strong) NSMutableArray *angleArr;//å¯¹åº”çš„å¼§åº¦ @property (nonatomic, strong) NSMutableArray *midAngleArr;//æ¯ä¸ªå¼§åº¦åˆ†æ®µçš„ä¸­å¿ƒç‚¹ä½ç½® @end .mæ–‡ä»¶ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159// // PieView.m // BlurDemo // // Created by sj_w on 15/9/11. // Copyright (c) 2015å¹´ sj_w. All rights reserved. // #import &quot;PieView.h&quot; #define kScreenWidth [UIScreen mainScreen].bounds.size.width #define OUTR ((kScreenWidth)/4) #define INR ((kScreenWidth/4)-26) #define PIECENTERX kScreenWidth/2 #define PIECENTERY 150 #define PIECENTER CGPointMake(kScreenWidth/2, frame.size.height/2) #define LABELTAG 121 @implementation PieView - (id)initWithFrame:(CGRect)frame &#123; self = [super initWithFrame:frame]; if (self) &#123; self.frame = frame; self.backgroundColor = [UIColor orangeColor]; [self initArr]; [self initSubviews]; &#125; return self; &#125; - (void)initSubviews &#123; NSArray *titleArr = @[@&quot;ç°é‡‘ç±»&quot;,@&quot;å›ºå®šæ”¶ç›Šç±»&quot;,@&quot;è‚¡ç¥¨ç±»&quot;]; NSArray *subTitleArr = @[@&quot;30%&quot;,@&quot;60%&quot;,@&quot;10%&quot;]; for (int i = 0; i &lt; self.percentArr.count; i++) &#123; UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(-100, -100, 100, 100)]; label.font = [UIFont systemFontOfSize:16]; label.text = [NSString stringWithFormat:@&quot;%@\\n%@&quot;,titleArr[i],subTitleArr[i]]; label.textColor = [UIColor whiteColor]; label.textAlignment = NSTextAlignmentCenter; label.numberOfLines = 0; label.lineBreakMode = NSLineBreakByCharWrapping; label.tag = LABELTAG+i; [self addSubview:label]; &#125; &#125; - (void)initArr &#123; self.percentArr = @[@0.3,@0.6,@0.1]; self.angleArr = [[NSMutableArray alloc] initWithCapacity:self.percentArr.count]; self.midAngleArr = [[NSMutableArray alloc] initWithCapacity:self.percentArr.count]; float sumAngle = 0.0; //é€šè¿‡ç™¾åˆ†æ¯”è½¬æ¢æˆå¼§åº¦ for (int i = 0; i &lt; self.percentArr.count; i++) &#123; CGFloat angle = [self.percentArr[i] floatValue]*2*M_PI; CGFloat midAngle = sumAngle + angle/2.0; [self.midAngleArr addObject:[NSNumber numberWithFloat:midAngle]]; sumAngle += angle; [self.angleArr addObject:[NSNumber numberWithFloat:sumAngle]]; &#125; &#125; // Only override drawRect: if you perform custom drawing. // An empty implementation adversely affects performance during animation. - (void)drawRect:(CGRect)rect &#123; //ç»˜åˆ¶å¤–åœ†å¡«å……ç»¿è‰² CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetFillColorWithColor(context, [UIColor greenColor].CGColor); CGContextAddArc(context, kScreenWidth/2, 150, OUTR, 0, 2*M_PI, 0); CGContextFillPath(context); //ç»˜åˆ¶å¤–åœ†è®¾ç½®é¢œè‰²ä¸ºç™½è‰² CGContextSetLineWidth(context, 2); CGContextSetStrokeColorWithColor(context, [UIColor whiteColor].CGColor); CGContextAddArc(context, PIECENTERX, PIECENTERY, OUTR, 0, 2*M_PI, 0); CGContextStrokePath(context); //ç»˜åˆ¶å†…åœ†å¡«å……è‰²ä¸ºæ©™è‰² CGContextSetFillColorWithColor(context, [UIColor orangeColor].CGColor); CGContextAddArc(context, PIECENTERX, PIECENTERY, INR, 0, 2*M_PI, 0); CGContextFillPath(context); //ç»˜åˆ¶å†…åœ†é¢œè‰²ä¸ºç™½è‰² CGContextSetLineWidth(context, 2); CGContextAddArc(context, PIECENTERX, PIECENTERY, INR, 0, 2*M_PI, 0); CGContextSetStrokeColorWithColor(context, [UIColor whiteColor].CGColor); CGContextStrokePath(context); for (int i = 0; i &lt; self.angleArr.count; i++) &#123; //æ ¹æ®å¼§åº¦ç®—å†…åˆ†å‰²çš„çº¿çš„èµ·å§‹ç‚¹ CGFloat angle = [self.angleArr[i] floatValue]; CGPoint inPoint = CGPointMake(PIECENTERX+INR*cos(angle), PIECENTERY+INR*sin(angle)); CGPoint outPoint = CGPointMake(PIECENTERX+OUTR*cos(angle), PIECENTERY+OUTR*sin(angle)); //è¿æ¥èµ·å§‹ç‚¹ CGContextSetLineWidth(context, 2.0); CGContextSetStrokeColorWithColor(context, [UIColor whiteColor].CGColor); CGContextMoveToPoint(context, inPoint.x, inPoint.y); CGContextAddLineToPoint(context, outPoint.x, outPoint.y); CGContextStrokePath(context); //ç®—æ¯ä¸ªåˆ†æ®µå¼§åº¦çš„ä¸­å¿ƒç‚¹ä½ç½® CGFloat midAngel = [self.midAngleArr[i] floatValue]; CGPoint midPoint = CGPointMake(PIECENTERX+(INR+OUTR)/2.0*cos(midAngel), PIECENTERY+(INR+OUTR)/2.0*sin(midAngel)); // CGContextSetFillColorWithColor(context, [UIColor whiteColor].CGColor); // CGContextAddArc(context, midPoint.x, midPoint.y, 3, 0, 2*M_PI, 0); // CGContextFillPath(context); //æ¯ä¸ªåˆ†æ®µå»¶ä¼¸å‡ºå»çš„æŠ˜ç‚¹ CGPoint breakPoint = CGPointMake(PIECENTERX+(OUTR+(OUTR-INR)/2.0)*cos(midAngel), PIECENTERY+(OUTR+(OUTR-INR)/2.0)*sin(midAngel)); // CGContextSetFillColorWithColor(context, [UIColor whiteColor].CGColor); // CGContextAddArc(context, breakPoint.x, breakPoint.y, 3, 0, 2*M_PI, 0); // CGContextFillPath(context); //ç»“æŸç‚¹çš„ä½ç½®ï¼Œç¡®å®šè¯´æ˜æ–‡æœ¬çš„æ”¾ç½®ä½ç½® CGPoint endPoint; if (breakPoint.x&lt;PIECENTERX) &#123; endPoint = CGPointMake(43, breakPoint.y); &#125;else &#123; endPoint = CGPointMake(kScreenWidth-43, breakPoint.y); &#125; //ç»“æŸç‚¹ç”»åœˆï¼Œå¡«å……ç™½è‰² CGContextSetFillColorWithColor(context, [UIColor whiteColor].CGColor); CGContextAddArc(context, endPoint.x, endPoint.y, 3, 0, 2*M_PI, 0); CGContextFillPath(context); //å°†ä¸­å¿ƒç‚¹ã€æŠ˜ç‚¹ã€ç»“æŸç‚¹è¿æ¥èµ·æ¥ CGContextSetLineWidth(context, 2.0); CGContextSetStrokeColorWithColor(context, [UIColor whiteColor].CGColor); CGContextMoveToPoint(context, midPoint.x, midPoint.y); CGContextAddLineToPoint(context, breakPoint.x, breakPoint.y); CGContextAddLineToPoint(context, endPoint.x, endPoint.y); CGContextSetLineCap(context, kCGLineCapRound); CGContextStrokePath(context); // CGContextSetLineWidth(context, 2.0f); // CGContextSetStrokeColorWithColor(context, [UIColor whiteColor].CGColor); // CGContextMoveToPoint(context, midPoint.x, midPoint.y); // CGContextSetLineCap(context, kCGLineCapRound); // CGContextAddLineToPoint(context, breakPoint.x, breakPoint.y); // CGContextStrokePath(context); //è°ƒæ•´è¯´æ˜æ§ä»¶çš„ä¸­å¿ƒä½ç½® UILabel *label = (UILabel *)[self viewWithTag:LABELTAG+i]; label.center = CGPointMake(endPoint.x, endPoint.y+30); &#125; &#125; @end æœ€ç»ˆæ•ˆæœå›¾ï¼š","categories":[],"tags":[{"name":"UI","slug":"UI","permalink":"https://wsj2012.github.io/blog/tags/UI/"},{"name":"iOS","slug":"iOS","permalink":"https://wsj2012.github.io/blog/tags/iOS/"},{"name":"App","slug":"App","permalink":"https://wsj2012.github.io/blog/tags/App/"},{"name":"OC","slug":"OC","permalink":"https://wsj2012.github.io/blog/tags/OC/"},{"name":"ä¸‰è§’å‡½æ•°","slug":"ä¸‰è§’å‡½æ•°","permalink":"https://wsj2012.github.io/blog/tags/ä¸‰è§’å‡½æ•°/"},{"name":"åœ†","slug":"åœ†","permalink":"https://wsj2012.github.io/blog/tags/åœ†/"}]}]}